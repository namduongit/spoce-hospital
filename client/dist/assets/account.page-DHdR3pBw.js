import{j as e,c as S,r,u as D,n as A,o as R,p as G,q as $,s as H}from"./index-wOwRfMo4.js";import{p as K}from"./person-D9rSyjkV.js";import{T as v}from"./pagination-DByYZh53.js";import{a as k}from"./format-date.util-D8g88DXU.js";const O=x=>{const{serviceInvoiceSelect:s,setShowDetail:c}=x,o=t=>{switch(t){case"PENDING":return"text-yellow-600";case"PAID":return"text-green-600";case"CANCELLED":return"text-red-600";default:return"text-gray-600"}},a=t=>{switch(t){case"PENDING":return"Chờ xử lý";case"PAID":return"Đã thanh toán";case"CANCELLED":return"Đã hủy";default:return t}};return e.jsx("div",{className:"fixed inset-0 bg-gray-500/50 bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:`bg-white rounded-lg shadow-lg w-11/12 max-w-3xl p-6 max-h-[80vh] overflow-y-auto
            flex flex-col space-y-5`,children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[e.jsx("i",{className:"fa-solid fa-user text-blue-600"}),"Thông tin khám"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Họ và tên"}),e.jsx("p",{className:"text-sm font-medium",children:s.patientName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Số điện thoại"}),e.jsx("p",{className:"text-sm font-medium",children:s.patientPhone!=="Không có số điện thoại"?S(s.patientPhone):"Không có"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Email bác sĩ"}),e.jsx("p",{className:"text-sm font-medium",children:s.doctorEmail||"Không có"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Trạng thái"}),e.jsx("p",{className:`text-sm font-medium ${o(s.status)}`,children:a(s.status)})]})]})]}),s.medicalPackages&&s.medicalPackages.length>0&&e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[e.jsx("i",{className:"fa-solid fa-hand-holding-medical text-purple-600"}),"Danh sách gói dịch vụ (",s.medicalPackages.length,")"]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"STT"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Tên gói dịch vụ"}),e.jsx("th",{className:"text-right py-3 px-4 font-medium text-gray-600",children:"Giá"})]})}),e.jsx("tbody",{children:s.medicalPackages.map((t,l)=>e.jsxs("tr",{className:" hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4",children:l+1}),e.jsx("td",{className:"py-3 px-4 font-medium",children:t.medicalPackageName}),e.jsx("td",{className:"py-3 px-4 text-right font-semibold text-blue-600",children:t.price.toLocaleString("vi-VN")})]},t.medicalPackageId))})]})}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Ngày kê đơn"}),e.jsx("p",{className:"text-sm text-gray-900",children:k(new Date(s.createAt))})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-lg font-bold text-gray-800",children:["Tổng tiền: ",e.jsxs("span",{className:"text-blue-600",children:[s.totalAmount.toLocaleString("vi-VN")," "]})]})})]})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:`bg-blue-700 px-5 py-1 rounded text-white font-semibold 
                    hover:bg-white hover:text-blue-700 border-3 border-blue-700 transition-all`,onClick:()=>c(!1),children:"Đóng"})})]})})},B=x=>{const{serviceInvoices:s}=x,[c,o]=r.useState(5),[a,t]=r.useState(1),[l,n]=r.useState(!1),[g,h]=r.useState(null),b=i=>{h(i),n(!0)};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Lịch sử khám bệnh"}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:s&&s.length>0?e.jsxs("div",{className:"space-y-4",children:[s.slice((a-1)*c,a*c).map((i,p)=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Bác sĩ kê đơn"}),e.jsx("p",{className:"text-sm text-gray-900",children:i.doctorEmail})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Thông tin người khám"}),e.jsxs("p",{className:"text-sm text-gray-900",children:["Họ tên: ",i.patientName]}),e.jsxs("p",{className:"text-sm text-gray-900",children:["SĐT: ",i.patientPhone]})]})]}),e.jsx("div",{className:"flex flex-col items-end gap-3",children:e.jsxs("button",{onClick:()=>b(i),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",children:[e.jsx("i",{className:"fa-solid fa-eye"}),"Chi tiết"]})})]})},p)),e.jsx(v,{array:s,row:c,page:a,setRow:o,setPage:t})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("i",{className:"fa-solid fa-file-invoice-dollar text-6xl text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-500 text-lg",children:"Bạn chưa có hóa đơn dịch vụ nào"})]})}),l&&g&&e.jsx(O,{serviceInvoiceSelect:g,setShowDetail:n})]})},M=x=>{const{prescriptionInvoiceSelect:s,setShowDetail:c}=x,o=t=>{switch(t){case"PENDING":return"text-yellow-600";case"PAID":return"text-green-600";case"CANCELLED":return"text-red-600";default:return"text-gray-600"}},a=t=>{switch(t){case"PENDING":return"Chờ xử lý";case"PAID":return"Đã thanh toán";case"CANCELLED":return"Đã hủy";default:return t}};return e.jsx("div",{className:"fixed inset-0 bg-gray-500/50 bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:`bg-white rounded-lg shadow-lg w-11/12 max-w-5xl p-6 max-h-[80vh] overflow-y-auto
                flex flex-col space-y-5`,children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 space-y-2",children:[e.jsxs("h3",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[e.jsx("i",{className:"fa-solid fa-user text-blue-600"}),"Thông tin khám"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Họ và tên"}),e.jsx("p",{className:"text-sm font-medium",children:s.patientName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Số điện thoại"}),e.jsx("p",{className:"text-sm font-medium",children:s.patientPhone!=="Không có số điện thoại"?S(s.patientPhone):"Không có"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Email bác sĩ"}),e.jsx("p",{className:"text-sm font-medium",children:s.doctorEmail||"Không có"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Trạng thái"}),e.jsx("p",{className:`text-sm font-medium ${o(s.status)}`,children:a(s.status)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Triệu chứng"}),e.jsx("p",{className:"text-sm font-medium",children:s.symptoms||"Không có"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Ghi chú"}),e.jsx("p",{className:"text-sm font-medium",children:s.note||"Không có"})]})]})]}),s.medicines&&s.medicines.length>0&&e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[e.jsx("i",{className:"fa-solid fa-pills text-purple-600"}),"Danh sách thuốc kê đơn (",s.medicines.length,")"]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"STT"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Tên thuốc"}),e.jsx("th",{className:"text-center py-3 px-4 font-medium text-gray-600",children:"Số lượng"}),e.jsx("th",{className:"text-right py-3 px-4 font-medium text-gray-600",children:"Đơn giá"}),e.jsx("th",{className:"text-right py-3 px-4 font-medium text-gray-600",children:"Thành tiền"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Liều dùng"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Cách dùng"})]})}),e.jsx("tbody",{children:s.medicines.map((t,l)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4",children:l+1}),e.jsx("td",{className:"py-3 px-4 font-medium",children:t.medicineName}),e.jsx("td",{className:"py-3 px-4 text-center font-semibold",children:t.quantity}),e.jsxs("td",{className:"py-3 px-4 text-right",children:[t.unitPrice.toLocaleString("vi-VN")," đ"]}),e.jsxs("td",{className:"py-3 px-4 text-right font-semibold text-blue-600",children:[t.totalPrice.toLocaleString("vi-VN")," đ"]}),e.jsx("td",{className:"py-3 px-4",children:t.dosage}),e.jsx("td",{className:"py-3 px-4",children:t.usageInstructions})]},t.medicineId))})]})}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Ngày kê đơn"}),e.jsx("p",{className:"text-sm text-gray-900",children:k(new Date(s.createAt))})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-lg font-bold text-gray-800",children:["Tổng tiền: ",e.jsxs("span",{className:"text-blue-600",children:[s.totalAmount.toLocaleString("vi-VN")," đ"]})]})})]})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:`bg-blue-700 px-5 py-1 rounded text-white font-semibold 
                        hover:bg-white hover:text-blue-700 border-3 border-blue-700 transition-all`,onClick:()=>c(!1),children:"Đóng"})})]})})},U=x=>{const{prescriptionInvoices:s}=x,[c,o]=r.useState(5),[a,t]=r.useState(1),[l,n]=r.useState(!1),[g,h]=r.useState(null),b=i=>{h(i),n(!0)};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Lịch sử mua thuốc"}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:s&&s.length>0?e.jsxs("div",{className:"space-y-4",children:[s.slice((a-1)*c,a*c).map((i,p)=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Bác sĩ kê đơn"}),e.jsx("p",{className:"text-sm text-gray-900",children:i.doctorEmail})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Thông tin người khám"}),e.jsxs("p",{className:"text-sm text-gray-900",children:["Họ tên: ",i.patientName]}),e.jsxs("p",{className:"text-sm text-gray-900",children:["SĐT: ",i.patientPhone]})]})]}),e.jsx("div",{className:"flex flex-col items-end gap-3",children:e.jsxs("button",{onClick:()=>b(i),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",children:[e.jsx("i",{className:"fa-solid fa-eye"}),"Chi tiết"]})})]})},p)),e.jsx(v,{array:s,row:c,page:a,setRow:o,setPage:t})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("i",{className:"fa-solid fa-pills text-6xl text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-500 text-lg",children:"Chưa có lịch sử mua thuốc"})]})}),l&&g&&e.jsx(M,{prescriptionInvoiceSelect:g,setShowDetail:n})]})},V=()=>e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Cài đặt tài khoản"}),e.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded",children:e.jsx("span",{className:"text-yellow-800",children:"Tính năng chưa phát triển"})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-100",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"Thông báo email"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Nhận thông báo qua email"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-100",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"Thông báo SMS"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Nhận thông báo qua tin nhắn"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})})]}),q=x=>{const{execute:s,notify:c,loading:o}=D(),{userDetail:a,email:t,onSuccess:l}=x,[n,g]=r.useState(!1),[h,b]=r.useState({fullName:"",phone:"",address:"",birthDate:""}),i=(m,f)=>{b(N=>({...N,[m]:f}))},p=()=>{g(!1),b({fullName:a.fullName,phone:a.phone,address:a.address,birthDate:a.birthDate})},j=async m=>{m.preventDefault();const f=await s(A(h));c(f,"Cập nhật thông tin cá nhân thành công"),f?.result&&(g(!1),l?.())};return r.useEffect(()=>{b({fullName:a.fullName||"",phone:a.phone||"",address:a.address||"",birthDate:a.birthDate||""})},[a]),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Thông tin cá nhân"}),!n&&e.jsxs("button",{onClick:()=>g(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors font-medium flex items-center space-x-2",children:[e.jsx("i",{className:"fa-solid fa-edit"}),e.jsx("span",{children:"Chỉnh sửa"})]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Họ và tên ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",disabled:!n,value:h.fullName,onChange:m=>i("fullName",m.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors 
                                    ${n?"border-gray-300":"bg-gray-50 text-gray-600 border-gray-200"}`,placeholder:"Nhập họ và tên"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",value:t,disabled:!0,className:"w-full px-4 py-3 text-gray-500 bg-gray-50 border border-gray-200 rounded-lg cursor-not-allowed"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Email không thể thay đổi"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Số điện thoại ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"tel",disabled:!n,value:h.phone,onChange:m=>i("phone",m.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors
                                    ${n?"border-gray-300":"bg-gray-50 text-gray-600 border-gray-200"}`,placeholder:"0123 456 789"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Ngày sinh ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",lang:"vi",disabled:!n,value:h.birthDate?new Date(h.birthDate).toISOString().split("T")[0]:"",onChange:m=>i("birthDate",m.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors 
                                     ${n?"border-gray-300":"bg-gray-50 text-gray-600 border-gray-200"}`})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Địa chỉ"}),e.jsx("textarea",{rows:3,disabled:!n,value:h.address,onChange:m=>i("address",m.target.value),className:`w-full px-4 py-3 ring ring-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors resize-none 
                                ${n?"border-gray-300":"bg-gray-50 text-gray-600 border-gray-200"}`,placeholder:"Nhập địa chỉ của bạn"})]}),n&&e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{type:"submit",disabled:o,className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors font-medium flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:o?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fa-solid fa-spinner fa-spin"}),e.jsx("span",{children:"Đang cập nhật..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fa-solid fa-save"}),e.jsx("span",{children:"Lưu thay đổi"})]})}),e.jsxs("button",{type:"button",disabled:o,onClick:p,className:"bg-gray-500 text-white px-6 py-3 rounded-lg hover:bg-gray-600 transition-colors font-medium flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("i",{className:"fa-solid fa-times"}),e.jsx("span",{children:"Hủy"})]})]})]})})]})},F=x=>{const{appointments:s}=x,[c,o]=r.useState(5),[a,t]=r.useState(1);return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Lịch hẹn khám"}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:s&&s.length>0?e.jsxs("div",{className:"space-y-4",children:[s.slice((a-1)*c,a*c).map((l,n)=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Bệnh nhân: ",l.fullName]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Thời gian: ",l.time]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Số điện thoại: ",l.phone]}),l.note&&e.jsxs("p",{className:"text-sm text-gray-600",children:["Ghi chú: ",l.note]})]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${l.status==="PENDING"?"bg-yellow-100 text-yellow-800":l.status==="CONFIRMED"?"bg-blue-100 text-blue-800":l.status==="COMPLETED"?"bg-green-100 text-green-800":l.status==="CANCELLED"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:l.status==="PENDING"?"Chờ xác nhận":l.status==="CONFIRMED"?"Đã xác nhận":l.status==="COMPLETED"?"Hoàn thành":l.status==="CANCELLED"?"Đã hủy":l.status})]})},n)),e.jsx(v,{array:s,row:c,page:a,setRow:o,setPage:t})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("i",{className:"fa-solid fa-calendar-xmark text-6xl text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-500 text-lg",children:"Bạn chưa có lịch hẹn nào"}),e.jsx("button",{className:"mt-4 bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transistion-colors",children:"Đặt lịch hẹn mới"})]})})]})},W=()=>{const{execute:x}=D(),[s,c]=r.useState("profile"),[o,a]=r.useState({}),[t,l]=r.useState({}),[n,g]=r.useState([]),[h,b]=r.useState([]),[i,p]=r.useState([]),[j,m]=r.useState(""),[f,N]=r.useState(""),[y,C]=r.useState(""),w=async()=>{const d=await x(R());if(d?.result){const u=d.data;a(u.profile),l(u)}},P=async()=>{const d=await x(G());if(d?.result){const u=d.data;g(u)}},E=async()=>{const d=await x($());if(d?.result){const u=d.data;b(u)}},I=async()=>{const d=await x(H());if(d?.result){const u=d.data;p(u)}};r.useEffect(()=>{w(),P(),E(),I()},[]),r.useEffect(()=>{N(t.email),C(t.role),m(o.fullName)},[t,o]);const T=[{id:"profile",label:"Hồ sơ của tôi",icon:"fa-solid fa-user-pen",description:"Quản lý thông tin cá nhân"},{id:"appointments",label:"Lịch hẹn khám",icon:"fa-solid fa-calendar-check",description:"Xem lịch hẹn đã đặt"},{id:"history",label:"Lịch sử khám bệnh",icon:"fa-solid fa-clock-rotate-left",description:"Xem lịch sử khám bệnh"},{id:"medicine",label:"Lịch sử mua thuốc",icon:"fa-solid fa-file-medical",description:"Theo dõi đơn thuốc"},{id:"settings",label:"Cài đặt tài khoản",icon:"fa-solid fa-cog",description:"Tùy chỉnh tài khoản"}],L=()=>{switch(s){case"profile":return e.jsx(q,{userDetail:o,email:f,onSuccess:w});case"appointments":return e.jsx(F,{appointments:n});case"history":return e.jsx(B,{serviceInvoices:h});case"medicine":return e.jsx(U,{prescriptionInvoices:i});case"settings":return e.jsx(V,{});default:return null}};return e.jsx("main",{className:"account-page bg-gray-50 min-h-screen",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"sticky top-8 space-y-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative inline-block",children:[e.jsx("img",{src:K,alt:"User Avatar",className:"w-20 h-20 rounded-full mx-auto border-4 border-blue-100"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-6 h-6 bg-green-500 rounded-full border-2 border-white"})]}),e.jsx("h3",{className:"mt-4 text-lg font-semibold text-gray-900",children:j||"Chưa cập nhật tên"}),e.jsx("p",{className:"text-sm text-blue-600 font-medium",children:f||"example@email.com"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:y==="ADMIN"?"Quản trị viên":y==="DOCTOR"?"Bác sĩ":y==="USER"?"Người dùng":"Chưa xác định"})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e.jsx("nav",{className:"p-2",children:T.map(d=>e.jsx("button",{onClick:u=>{u.preventDefault(),c(d.id)},className:`w-full text-left px-4 py-3 rounded-lg mb-1 transition-all duration-200 group block no-underline ${s===d.id?"bg-blue-50 text-blue-700 border-l-4 border-blue-600":"text-gray-700 hover:bg-gray-50 hover:text-blue-600"}`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("i",{className:`${d.icon} text-lg ${s===d.id?"text-blue-600":"text-gray-400 group-hover:text-blue-500"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:d.label}),e.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:d.description})]}),e.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:e.jsx("i",{className:"fa-solid fa-arrow-right text-xs text-blue-500"})})]})},d.id))})})]})}),e.jsx("div",{className:"lg:col-span-3",children:e.jsx("div",{className:"bg-gray-50",children:L()})})]})})})};export{W as default};
